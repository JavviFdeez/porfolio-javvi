---
import emailjs from "emailjs-com";
---
<script src="https://www.google.com/recaptcha/api.js" async defer></script>
<form
        id="contact-form"
        class="mt-5 mx-auto space-y-6 bg-[#0f0f1a]/80 p-6 rounded-2xl shadow-xl backdrop-blur-md"
>
    <!-- Campos del formulario -->
    <div class="space-y-2">
        <label for="name" class="text-sm text-white font-medium">Nombre<span class="text-red-600 text-xl">*</span></label>
        <input
                type="text"
                name="user_name"
                id="name"
                placeholder="Escriba su nombre..."
                class="mt-2 w-full rounded-lg bg-[#1a1a2e] text-white border border-gray-600 focus:border-purple-500 focus:outline-none p-3 transition duration-200 resize-none focus:ring-1 focus:ring-purple-500"
        />
        <p class="mt-2 text-red-500 text-sm hidden" id="error-user_name"></p>
    </div>

    <div class="space-y-2">
        <label for="email" class="text-sm text-white font-medium">Correo Electronico<span class="text-red-600 text-xl">*</span></label>
        <input
                type="email"
                name="user_email"
                id="email"
                placeholder="Escriba su correo..."
                class="mt-2 w-full rounded-lg bg-[#1a1a2e] text-white border border-gray-600 focus:border-purple-500 focus:outline-none p-3 transition duration-200 resize-none focus:ring-1 focus:ring-purple-500"
        />
        <p class="mt-2 text-red-500 text-sm hidden" id="error-user_email"></p>
    </div>

    <div class="space-y-2">
        <label for="message" class="text-sm text-white font-medium">Mensaje<span class="text-red-600 text-xl">*</span></label>
        <textarea
                name="message"
                id="message"
                rows="4"
                placeholder="Escriba su mensaje..."
                class="mt-2 w-full rounded-lg bg-[#1a1a2e] text-white border border-gray-600 focus:border-purple-500 focus:outline-none p-3 transition duration-200 resize-y focus:ring-1 focus:ring-purple-500 min-h-12"
        ></textarea>
        <p class="text-red-500 text-sm hidden" id="error-message"></p>
    </div>

    <div style="display:none;">
        <label for="bot-field">No rellenes este campo</label>
        <input type="text" name="bot-field" id="bot-field" tabindex="-1" autocomplete="off"/>
    </div>

    <div class="flex justify-center">
        <input type="hidden" name="g-recaptcha-response" id="g-recaptcha-response">
    </div>
    <div class="flex justify-center">
        <p class="mt-2text-red-500 text-sm hidden" id="error-captcha"></p>
    </div>


    <div class="flex justify-center">
        <button
                type="submit"
                class="w-full sm:w-1/2 bg-purple-700 hover:bg-purple-900 hover:scale-101 text-white font-semibold py-2.5 px-4 rounded-lg transition-colors duration-200 shadow-md focus:ring-1 focus:ring-purple-500"
        >
            Enviar
        </button>
    </div>

    <!-- Toast container -->
    <div id="toast-container" class="fixed bottom-5 left-1/2 transform -translate-x-1/2 z-50 hidden">
        <div id="toast"
             class="max-w-xs w-full bg-gray-800 text-white text-sm rounded-lg shadow-lg px-4 py-3 flex items-center gap-3 border-l-4 border-green-500 transition-all duration-300"
             role="alert">
            <span id="toast-icon">✅</span>
            <span id="toast-message">Mensaje enviado correctamente.</span>
        </div>
    </div>
</form>

<p class="text-l text-center mt-6">Rellena el formulario y me pondré en contacto contigo.<br> También puedes usar
    directamente mi correo: <a href="mailto:javidez195@gmail.com">javidez195@gmail.com</a></p>

<script src="https://www.google.com/recaptcha/api.js?render=6LfHQpsrAAAAACQtMcKKgtNPf5rkGGk2sIL1c_co"></script>
<script src="https://www.google.com/recaptcha/api.js?render=TU_SITE_KEY"></script>
<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js" defer></script>
<script>
    emailjs.init("0KNlUt0vqMH7Fytbf");
</script>

<script src="/scripts/Contact.js" defer></script>
